<!DOCTYPE html>
<html>
<title>Admin Page</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
.w3-sidebar a {font-family: "Roboto", sans-serif}
body,h1,h2,h3,h4,h5,h6,.w3-wide {font-family: "Montserrat", sans-serif;}
</style>
<body class="w3-content" style="max-width:1200px">

<!-- Sidebar/menu -->
<nav class="w3-sidebar w3-bar-block w3-white w3-collapse w3-top" style="z-index:3;width:250px" id="mySidebar">
  <div class="w3-container w3-display-container w3-padding-16">
    <i onclick="w3_close()" class="fa fa-remove w3-hide-large w3-button w3-display-topright"></i>
    <h3 class="w3-wide"><b>LOGO</b></h3>
  </div>
  <div class="w3-padding-64 w3-large w3-text-grey" style="font-weight:bold">
    <a href="#" onclick="JustAddedPage()" class="w3-bar-item w3-button" id="JustAddedButton">Just Added</a>
    <a onclick="computerDrop()" href="javascript:void(0)" class="w3-button w3-block w3-white w3-left-align" id="computerButton">
       Computers<i class="fa fa-caret-down"></i>
    </a>
    <div id="computerOptions" class="w3-bar-block w3-hide w3-padding-large w3-medium">
      <a href="#" class="w3-bar-item w3-button" onclick="LaptopPage()">Laptop</a>
      <a href="#" class="w3-bar-item w3-button" onclick="DesktopPage()">Desktop</a>
    </div>
    <a href="#" class="w3-bar-item w3-button" onclick="GameConsolePage()">Game Consoles</a>
    <a href="#" class="w3-bar-item w3-button" onclick="ServerNetworkPage()">Servers/Network</a>
    <a onclick="electronicDrop()" href="javascript:void(0)" class="w3-button w3-block w3-white w3-left-align" id="electronicButton">
       Electronics<i class="fa fa-caret-down"></i>
    </a>
    <div id="electronicOptions" class="w3-bar-block w3-hide w3-padding-large w3-medium">
      <a href="#" class="w3-bar-item w3-button" onclick="PhonePage()">Phone</a>
      <a href="#" class="w3-bar-item w3-button" onclick="TabletPage()">Tablet</a>
      <a href="#" class="w3-bar-item w3-button" onclick="CameraPage()">Camera</a>
      <a href="#" class="w3-bar-item w3-button" onclick="SpeakerPage()">Speakers</a>
      <a href="#" class="w3-bar-item w3-button" onclick="TelevisionPage()">Televisions</a>
      <a href="#" class="w3-bar-item w3-button" onclick="OtherPage()">Other</a>

    </div>
    <a href="#" class="w3-bar-item w3-button" onclick="PartsPage()">Parts</a>
    <a href="#" class="w3-bar-item w3-button" onclick="AccesoriesPage()">Accesories</a>

  </div>
  <a href="#footer" class="w3-bar-item w3-button w3-padding">Contact</a>
</nav>

<!-- Top menu on small screens -->
<header class="w3-bar w3-top w3-hide-large w3-black w3-xlarge">
  <div class="w3-bar-item w3-padding-24 w3-wide">LOGO</div>
  <a href="javascript:void(0)" class="w3-bar-item w3-button w3-padding-24 w3-right" onclick="w3_open()"><i class="fa fa-bars"></i></a>
</header>

<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-left:250px">

  <!-- Push down content on small screens -->
  <div class="w3-hide-large" style="margin-top:83px"></div>

  <!-- Top header -->
  <header class="w3-container w3-xlarge">
    <p class="w3-left" id="product_title">Product_Title</p>
    <p class="w3-right">
      <a href="#search" class="w3-bar-item w3-button"><i class="fa fa-search"></i> SEARCH</a>
    </p>
  </header>

  <!-- Image header -->
  <div class="w3-display-container w3-container">
    <img id="product_header_image" src="./staticImages/placeholderImage.png" alt="product_title" style="width:100%">
    <div class="w3-display-topleft w3-text-white" style="padding:24px 48px">
    </div>
  </div>

  <div class="w3-container w3-text-grey">
    <p id="product_Number"># items</p>
  </div>

  <button class="w3-button w3-light-grey" onclick="">Add Product</button>
  <br><br>
  <!-- Product grid -->
  <div class="w3-row">
    <div class="w3-col l3 s6">
      <div class="w3-container">
        <div class="w3-display-container">
          <img alt="" src="./staticImages/placeholderImage.png" id="Prod1Pic" style="display: block; max-width:180px; max-height:180px; width: auto; height: auto;">
          <div class="w3-display-middle w3-display-hover">
            <button class="w3-button w3-black" onclick="update(Prod1Pic)">Update</button>
            <button class="w3-button w3-black">Delete</button>
          </div>
        </div>
        <p id="Prod1Title">Title</p>
        <b id="Prod1Price">$0.00</b>
      </div>
      <div class="w3-container">
        <div class="w3-display-container">
          <img alt="" src="./staticImages/placeholderImage.png" id="Prod2Pic" style="display: block; max-width:180px; max-height:180px; width: auto; height: auto;%">
          <div class="w3-display-middle w3-display-hover">
            <button class="w3-button w3-black" onclick="update(Prod2Pic)">Update</button>
            <button class="w3-button w3-black">Delete</button>
          </div>
        </div>
        <p id="Prod2Title">Title</p>
        <b id="Prod2Price">$0.00</b>
      </div>
      </div>

    <div class="w3-col l3 s6">
      <div class="w3-container">
        <div class="w3-display-container">
          <img alt="" src="./staticImages/placeholderImage.png" id="Prod3Pic" style="display: block; max-width:180px; max-height:180px; width: auto; height: auto;">
          <div class="w3-display-middle w3-display-hover">
            <button class="w3-button w3-black" onclick="update(Prod3Pic)">Update</button>
            <button class="w3-button w3-black">Delete</button>
          </div>
        </div>
        <p id="Prod3Title">Title</p>
        <b id="Prod3Price">$0.00</b>
      </div>
      <div class="w3-container">
        <div class="w3-display-container">
          <img alt="" src="./staticImages/placeholderImage.png" id="Prod4Pic" style="display: block; max-width:180px; max-height:180px; width: auto; height: auto;">
          <div class="w3-display-middle w3-display-hover">
            <button class="w3-button w3-black" onclick="update(Prod4Pic)">Update</button>
            <button class="w3-button w3-black">Delete</button>
          </div>
        </div>
        <p id="Prod4Title">Title</p>
        <b id="Prod4Price">$0.00</b>
      </div>
      </div>

      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="w3-display-container">
            <img alt="" src="./staticImages/placeholderImage.png" id="Prod5Pic" style="display: block; max-width:180px; max-height:180px; width: auto; height: auto;">
            <div class="w3-display-middle w3-display-hover">
              <button class="w3-button w3-black" onclick="update(Prod5Pic)">Update</button>
              <button class="w3-button w3-black">Delete</button>
            </div>
          </div>
          <p id="Prod5Title">Title</p>
          <b id="Prod5Price">$0.00</b>
        </div>
        <div class="w3-container">
          <div class="w3-display-container">
            <img alt="" src="./staticImages/placeholderImage.png" id="Prod6Pic" style="display: block; max-width:180px; max-height:180px; width: auto; height: auto;">
            <div class="w3-display-middle w3-display-hover">
              <button class="w3-button w3-black" onclick="update(Prod6Pic)">Update</button>
              <button class="w3-button w3-black">Delete</button>
            </div>
          </div>
          <p id="Prod6Title">Title</p>
          <b id="Prod6Price">$0.00</b>
        </div>
        </div>

        <div class="w3-col l3 s6">
          <div class="w3-container">
            <div class="w3-display-container">
              <img alt="" src="./staticImages/placeholderImage.png" id="Prod7Pic" style="display: block; max-width:180px; max-height:180px; width: auto; height: auto;">
              <div class="w3-display-middle w3-display-hover">
                <button class="w3-button w3-black" onclick="update(Prod7Pic)">Update</button>
                <button class="w3-button w3-black">Delete</button>
              </div>
            </div>
            <p id="Prod7Title">Title</p>
            <b id="Prod7Price">$0.00</b>
          </div>
          <div class="w3-container">
            <div class="w3-display-container">
              <img alt="" src="./staticImages/placeholderImage.png" id="Prod8Pic" style="display: block; max-width:180px; max-height:180px; width: auto; height: auto;">
              <div class="w3-display-middle w3-display-hover">
                <button class="w3-button w3-black" onclick="update(Prod8Pic)">Update</button>
                <button class="w3-button w3-black">Delete</button>
              </div>
            </div>
            <p id="Prod8Title">Title</p>
            <b id="Prod8Price">$0.00</b>
          </div>
          </div>
  </div>

  <br><br><br><center><button class="w3-button w3-light-grey" style="position: absolute; right: 250px;" onclick="prevPage()">Previous</button> <button class="w3-button w3-light-grey" style="position: absolute; right: 180px;" onclick="nextPage()">Next</button></center><br><br><br>



  <!-- Footer -->
  <footer class="w3-padding-64 w3-light-grey w3-small w3-center" id="footer">
    <div class="w3-row-padding">
      <div class="w3-col s4">
        <h4>Contact</h4>
        <p>Questions? Go ahead.</p>
        <form action="/action_page.php" target="_blank">
          <p><input class="w3-input w3-border" type="text" placeholder="Name" name="Name" required></p>
          <p><input class="w3-input w3-border" type="text" placeholder="Email" name="Email" required></p>
          <p><input class="w3-input w3-border" type="text" placeholder="Subject" name="Subject" required></p>
          <p><input class="w3-input w3-border" type="text" placeholder="Message" name="Message" required></p>
          <button type="submit" class="w3-button w3-block w3-black">Send</button>
        </form>
      </div>

      <div class="w3-col s4">
        <h4>About</h4>
        <p><a href="#">About us</a></p>
        <p><a href="#">We're hiring</a></p>
        <p><a href="#">Support</a></p>
        <p><a href="#">Find store</a></p>
        <p><a href="#">Shipment</a></p>
        <p><a href="#">Payment</a></p>
        <p><a href="#">Gift card</a></p>
        <p><a href="#">Return</a></p>
        <p><a href="#">Help</a></p>
      </div>

      <div class="w3-col s4 w3-justify">
        <h4>Store</h4>
        <p><i class="fa fa-fw fa-map-marker"></i>Shop</p>
        <p><i class="fa fa-fw fa-phone"></i>(210)123-4567</p>
        <p><i class="fa fa-fw fa-envelope"></i>kab916@my.utsa.edu</p>
        <h4>We accept</h4>
        <p><i class="fa fa-fw fa-cc-amex"></i> Amex</p>
        <p><i class="fa fa-fw fa-credit-card"></i> Credit Card</p>
        <br>
        <i class="fa fa-facebook-official w3-hover-opacity w3-large"></i>
        <i class="fa fa-instagram w3-hover-opacity w3-large"></i>
        <i class="fa fa-snapchat w3-hover-opacity w3-large"></i>
        <i class="fa fa-pinterest-p w3-hover-opacity w3-large"></i>
        <i class="fa fa-twitter w3-hover-opacity w3-large"></i>
        <i class="fa fa-linkedin w3-hover-opacity w3-large"></i>
      </div>
    </div>
  </footer>

  <div class="w3-black w3-center w3-padding-24">Created by Mario De Jesus</a></div>

  <!-- End page content -->
</div>


<script>
// Accordion
function computerDrop() {
  var x = document.getElementById("computerOptions");
  if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
  } else {
    x.className = x.className.replace(" w3-show", "");
  }
}
document.getElementById("computerButton").click();

function electronicDrop() {
  var x = document.getElementById("electronicOptions");
  if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
  } else {
    x.className = x.className.replace(" w3-show", "");
  }
}
document.getElementById("electronicButton").click();


function clear_products(elementIDPic,elementIDTitle,elementIDPrice)
{
  var image = document.getElementById(elementIDPic);
  image.src = "";
  image.alt = "";

  var title = document.getElementById(elementIDTitle);
  title.innerText = "";

  var price = document.getElementById(elementIDPrice);
  price.innerText = "";
}


function update_products(elementIDPic,elementIDTitle,elementIDPrice,imgSRC,titleSRC,priceSRC,productID)
{
  var image = document.getElementById(elementIDPic);
  image.src = imgSRC;
  image.alt = productID;

  var title = document.getElementById(elementIDTitle);
  title.innerText = titleSRC;

  var price = document.getElementById(elementIDPrice);
  price.innerText = "$"+priceSRC;
}


function update(elementIDPic)
{
  var image = document.getElementById(elementIDPic);
  var productID = image.alt;


  const Http = new XMLHttpRequest();
  //send to the server/URL
  var newU = "UPD|"+productID;
  const url='http://127.0.0.1:5000/'+newU;
  Http.open("GET", url);
  Http.send();

  Http.onreadystatechange = (e) => {
    var response_code = JSON.parse(Http.response);

    if(response_code == 0)
    {
      alert("Product is a NetServ");
    }else if(response_code == 1)
    {
      alert("Product is a Computer");
    }else if(response_code == 2)
    {
      alert("Product is Parts/Accessory");
    }else if(response_code == 3)
    {
      alert("Product is Other");
    }
  }

}


var DB_response;
var startPointer;
var itemNumber;
var filled_page;
//This will update page to be the "Just Added" products
function JustAddedPage()
{
  var x = document.getElementById("product_title");
  x.innerHTML = "Just Added";


  x = document.getElementById("product_header_image");
  x.src = "./staticImages/JA_header_pic.jpg";


  const Http = new XMLHttpRequest();
  //send to the server/URL
  var newU = "REQ|JUSTADD";
  const url='http://127.0.0.1:5000/'+newU;
  Http.open("GET", url);
  Http.send();
  Http.onreadystatechange = (e) => {
    //Turn text into JSON data
    DB_response = JSON.parse(Http.response);

    //variable is used to keep track of the valid products
    itemNumber = Object.keys(DB_response).length;
    //Make sure to check if title is not empty (No title = invalid)
    //if the reponse is a valid entry then call function to change the data
    var i;
    for(i=0; i < Object.keys(DB_response).length; i++)
    {
      switch((DB_response[i]["product_title"]))
      {
        case "":
          break;
        default:
          // if the product is valid then count it and update it
          update_products('Prod'+(i+1)+'Pic','Prod'+(i+1)+'Title','Prod'+(i+1)+'Price',DB_response[i]["img_url"],DB_response[i]["product_title"],DB_response[i]["price"],DB_response[i]["productID"]);
      }
    }

    //Update item number
    x = document.getElementById("product_Number");
    x.innerHTML = itemNumber+" items";
  }
}


function nextPage()
{
  //Make sure to check if title is not empty (No title = invalid)
  //if the reponse is a valid entry then call function to change the data
  var i;
  if(startPointer <= (itemNumber-1))
  {
    filled_page = 0;
    for(i=0; i < 8; i++)
    {
      if(startPointer <= (itemNumber-1))
      {
        switch((DB_response[startPointer]["product_title"]))
        {
          case "":
            break;
          default:
            update_products('Prod'+(i+1)+'Pic','Prod'+(i+1)+'Title','Prod'+(i+1)+'Price',DB_response[startPointer]["img_url"],DB_response[startPointer]["product_title"],DB_response[startPointer]["price"],DB_response[startPointer]["productID"]);
        }
        startPointer+=1;
        filled_page+=1;
      }else
      {


          for(i = i ; i < 8; i++)
          {
            clear_products('Prod'+(i+1)+'Pic','Prod'+(i+1)+'Title','Prod'+(i+1)+'Price');
          }
          break;

      }
    }
  }
}

function prevPage()
{
  //Make sure to check if title is not empty (No title = invalid)
  //if the reponse is a valid entry then call function to change the data
  if(startPointer == 8)
  {
    return;
  }
  startPointer = startPointer - (8 + filled_page);
  var i;
  for(i=0; i < 8; i++)
  {
    if(startPointer <= (itemNumber-1))
    {
      switch((DB_response[startPointer]["product_title"]))
      {
        case "":
          break;
        default:
          update_products('Prod'+(i+1)+'Pic','Prod'+(i+1)+'Title','Prod'+(i+1)+'Price',DB_response[startPointer]["img_url"],DB_response[startPointer]["product_title"],DB_response[startPointer]["price"],DB_response[startPointer]["productID"]);
      }
      startPointer+=1;
    }else
    {
        for(i = i ; i < 8; i++)
        {
          clear_products('Prod'+(i+1)+'Pic','Prod'+(i+1)+'Title','Prod'+(i+1)+'Price');
        }
        break;

    }
  }

  filled_page = 8;
}

function DesktopPage()
{
  var x = document.getElementById("product_title");
  x.innerHTML = "Desktops";


  x = document.getElementById("product_header_image");
  x.src = "./staticImages/Desk_header_pic.jpg";

  const Http = new XMLHttpRequest();
  //send to the server/URL
  var newU = "REQ|DESKTOPS";
  const url='http://127.0.0.1:5000/'+newU;
  Http.open("GET", url);
  Http.send();
  Http.onreadystatechange = (e) => {
     DB_response = JSON.parse(Http.response);
     startPointer =0;
     itemNumber = Object.keys(DB_response).length;
     nextPage();
     console.log(DB_response);
     //Update item number
     x = document.getElementById("product_Number");
     x.innerHTML = itemNumber+" items";
   }
}

function LaptopPage()
{
  var x = document.getElementById("product_title");
  x.innerHTML = "Laptops";


  x = document.getElementById("product_header_image");
  x.src = "./staticImages/Laptop_header_pic.jpg";

}


function GameConsolePage()
{
  var x = document.getElementById("product_title");
  x.innerHTML = "Game Consoles";


  x = document.getElementById("product_header_image");
  x.src = "./staticImages/GC_header_pic.jpg";

}

function ServerNetworkPage()
{
  var x = document.getElementById("product_title");
  x.innerHTML = "Server & Network Devices";


  x = document.getElementById("product_header_image");
  x.src = "./staticImages/SN_header_pic.jpg";

}


function PhonePage()
{
  var x = document.getElementById("product_title");
  x.innerHTML = "Phones";


  x = document.getElementById("product_header_image");
  x.src = "./staticImages/Phone_header_pic.jpg";

}


function TabletPage()
{
  var x = document.getElementById("product_title");
  x.innerHTML = "Tablets";


  x = document.getElementById("product_header_image");
  x.src = "./staticImages/Tablet_header_pic.jpg";

}

function CameraPage()
{
  var x = document.getElementById("product_title");
  x.innerHTML = "Cameras";


  x = document.getElementById("product_header_image");
  x.src = "./staticImages/Cam_header_pic.jpg";

}
function SpeakerPage()
{
  var x = document.getElementById("product_title");
  x.innerHTML = "Speakers";


  x = document.getElementById("product_header_image");
  x.src = "./staticImages/Speaker_header_pic.jpg";

}
function TelevisionPage()
{
  var x = document.getElementById("product_title");
  x.innerHTML = "Televisions";


  x = document.getElementById("product_header_image");
  x.src = "./staticImages/TV_header_pic.jpg";

}
function OtherPage()
{
  var x = document.getElementById("product_title");
  x.innerHTML = "Other Electronics";


  x = document.getElementById("product_header_image");
  x.src = "./staticImages/Other_header_pic.jpg";

}
function PartsPage()
{
  var x = document.getElementById("product_title");
  x.innerHTML = "Parts";


  x = document.getElementById("product_header_image");
  x.src = "./staticImages/Parts_header_pic.jpg";

}
function AccesoriesPage()
{
  var x = document.getElementById("product_title");
  x.innerHTML = "Accesories";


  x = document.getElementById("product_header_image");
  x.src = "./staticImages/Acc_header_pic.jpg";

}
// Open and close sidebar
function w3_open() {
  document.getElementById("mySidebar").style.display = "block";
  document.getElementById("myOverlay").style.display = "block";
}

function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
  document.getElementById("myOverlay").style.display = "none";
}
</script>

</body>
</html>
